<div class="container">
 <nz-card>
   <tms-query
     #baseQuery
     [headerDate]="queryModel.queryHeader"
     (getQuery)="getQueryData($event)"
     (resetButton)="reset($event)"></tms-query>
 </nz-card>

  <nz-card style="margin-top:20px;">
    <div class="table">
      <tms-list
        [tableClass]="'bmtableClass'"
        [listHeader]="queryModel.header"
        [listData]="queryModel.data"
        [pageSize]="queryModel.condition.pagesize"
        [totalCount]="queryModel.totalCount"
        [isLoading]="queryModel.isLoading"
        (pageChangeHandler)="pageChange($event)"
        (selectRowsHandler)="selectRowsHandler($event)"
        [topActions]="queryModel.topActions"
        (topActionsHandler)="topActionsHandler($event)"
        [rowActions]="queryModel.rowActions"
        (rowActionsHandler)="rowActionsHandler($event)"
        (rowActiveHandler)="rowActiveHandler($event)"
        [isclickPointer]="true"
        (clickActiveHandler)="clickActiveHandler($event)"
        [isEdit]="true"
        [isrowActionsFlag]="true">
      </tms-list>
    </div>
  </nz-card>
</div>
<nz-modal nzWidth='{{settingService.modal.large}}' [(nzVisible)]="insertOrUpdateModel.isVisible"
          nzTitle="{{insertOrUpdateModel.isUpdate ? '修改角色' : '新增角色'}}"
          (nzOnCancel)="handleCancel()"
          (nzOnOk)="handleOk()"
          [nzOkLoading]="insertOrUpdateModel.isOkLoading">
  <tms-form #baseForm  nz-row nzType="flex"  nzJustify="start"  [nzGutter]="24">
    <tms-filed nz-col [nzSpan]="12" [inputType]="'input'"  [formsName]="'role_code'" [filedName]="'角色代码'" [required]="insertOrUpdateModel.isUpdate ? 'false' : 'true'"></tms-filed>
    <tms-filed nz-col [nzSpan]="12" [inputType]="'input'"  [formsName]="'role_name'" [filedName]="'角色名称'" [required]="insertOrUpdateModel.isUpdate ? 'false' : 'true'"></tms-filed>
    <tms-filed nz-col [nzSpan]="12" [inputType]="'select'" [dictId]="'SYS_VALID_FLAG'" [formsName]="'valid_flag'" [filedName]="'有效标志'" [required]="insertOrUpdateModel.isUpdate ? 'false' : 'true'"></tms-filed>
    <tms-filed nz-col [nzSpan]="12" [inputType]="'input'" [formsName]="'auth_edu_max'" [filedName]="'最大授权额度'" [required]="false"></tms-filed>
    <tms-filed nz-col [nzSpan]="12" [inputType]="'input'" [formsName]="'auth_edu_min'" [filedName]="'最小授权额度'" [required]="false"></tms-filed>
    <tms-filed nz-col [nzSpan]="12" [inputType]="'input'" [formsName]="'auth_level'" [filedName]="'授权级别'" [required]="false"></tms-filed>
    <tms-filed nz-col [nzSpan]="12" [inputType]="'select'" [dictId]="'SYS_ADMIN_LEVEL'" [formsName]="'admin_level'" [filedName]="'允许管理员级别'" [required]="false"></tms-filed>
    <tms-filed nz-col [nzSpan]="12" [inputType]="'multipleselect'" [dictId]="'SYS_ALLOW_BIZ_RANGE'" [formsName]="'allow_biz_range'" [filedName]="'允许应用范围'" [required]="false"></tms-filed>
    <tms-filed nz-col [nzSpan]="24" [labelSpan]="3" [controlSpan]="19" [inputType]="'textarea'" [formsName]="'role_desc'" [filedName]="'角色描述'" [required]="false"></tms-filed>
  </tms-form>
</nz-modal>


